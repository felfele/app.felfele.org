<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <script>
            function getMobileOperatingSystem() {
                const userAgent = navigator.userAgent || navigator.vendor || window.opera;

                // Windows Phone must come first because its UA also contains "Android"
                if (/windows phone/i.test(userAgent)) {
                    return "Windows Phone";
                }

                if (/android/i.test(userAgent)) {
                    return "Android";
                }

                // iOS detection from: http://stackoverflow.com/a/9039885/177710
                if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
                    return "iOS";
                }

                return "unknown";
            }
        </script>

        <script>
            function DetectAndServe() {
                const os = getMobileOperatingSystem();
                if (os == "Android") {
                    window.location.href = "https://play.google.com/store/apps/details?id=org.felfele.mobile";
                } else if (os == "iOS") {
                    window.location.href = "https://testflight.apple.com/join/hWiCVkWz";
                } else {
                    window.location.href = "https://felfele.org/app/";
                }
            }
        </script>
    </head>
    <body onload="DetectAndServe()">
    </body>
</html>
